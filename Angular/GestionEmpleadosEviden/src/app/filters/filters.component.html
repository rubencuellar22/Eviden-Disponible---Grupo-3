<section class="flex flex-wrap mainbox ml-10 mr-10 mb-4 rounded-lg relative">
  <div class="flex flex-wrap">
    <div class="p-1 flex flex-wrap flex-auto flex-col gap-2">
      <div class="mt-2 ml-2 filters font-bold pb-2">Selection of filters</div>
      <div class="ml-2 flex flex-wrap gap-4">
        <div>
          <select class="filters" name="col" id="col" [(ngModel)]="selectedFilter">
            <option value="" disabled selected>Select filter</option>
            <option value="status">Status</option>
            <option value="bench">Bench</option>
            <option value="ciudad">Ciudad</option>
            <option value="jornada">Jornada</option>
            <option value="grupo">Groups</option>
            <option value="n4">N4</option>
            <option value="categoria">Categoria</option>
            <option value="scr">SCR</option>
            <option value="job_technology_profile">Job Tecnology Profile</option>
            <option value="sk_bus_skill">Business Skill</option>
            <option value="sk_certif">Certificate</option>
            <option value="sk_lenguage">Language</option>
            <option value="sk_method">Method</option>
            <option value="sk_technology">Technology</option>
            <option value="sk_tecskill">Technology Skills</option>
            <option value="role">Role</option>
          </select>
        </div>

        <div class="flex flex-wrap flex-row">
          <div class="flex flex-wrap flex-col">
            <input
              type="text"
              [formControl]="tagControl"
              id="small-input"
              class="block p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs"
              (input)="onInputChange()"
              [(ngModel)]="newTag"
            />
            <!-- Lista de opciones de autocompletado -->
            <div *ngIf="filterOptions.length > 0" class="autocomplete-menu">
              <div *ngFor="let option of filterOptions" class="autocomplete-option" (click)="selectOption(option)">
                {{ option }}
              </div>
            </div>
          </div>
          <div class="flex flex-col ml-3">
            <div class="flex items-center">
              <button class="boton text-white py-1 px-2 font-bold rounded bottom-4 right-4 m-3" (click)="addTag()">Add</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="grid m-1 flex-auto">
    <div class="grid gap-1 mt-4 border-l-orange-500 border-4 border-r-0 border-b-0 border-t-0" style="grid-template-columns: repeat(4, 1fr);">
      <div *ngFor="let tag of tags" class="ml-2">
        <span class="inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-black bg-white border-tag rounded-md">
          {{ tag }}
          <button
            type="button"
            class="inline-flex items-center p-1 ms-2 box-border text-sm text-blue-400 bg-transparent rounded-sm hover:text-white hover:bg-blue-700"
            (click)="removeTag(tag)"
            aria-label="Remove"
          >
            <svg class="w-2 h-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Remove badge</span>
          </button>
        </span>
      </div>
    </div>
    <div>
      <button
        class="boton place-content-end text-white font-bold py-2 px-4 rounded absolute bottom-4 right-4"
        [disabled]="!selectedFilter || tags.length === 0"
        (click)="applyFilter()"
      >
        Apply
      </button>
      <div *ngIf="errorMessage" class="text-red-500 mt-2">
        {{ errorMessage }}
      </div>
    </div>
  </div>
</section>

<h2 class="titulo text-2xl mb-2 text-center font-bold">List of Employees</h2>
<section *ngIf="empleados && empleados.length > 0" class="mainbox flex-1 ml-10 mr-10 bg-white relative mt-4" style="overflow-y: auto;">
  <ul class="mt-2">
    <li *ngFor="let empleado of empleados" class="mb-2 p-2 border rounded">
      <div><span>Gin: {{ empleado.gin }}</span></div>
      <div><span>Nombre: {{ empleado.name }}</span></div>
      <div><span>Subgroup: {{ empleado.subgroup }}</span></div>
      <div><span>Status: {{ empleado.status }}</span></div>
      <div><span>Bench: {{ empleado.bench.toString().split('T')[0] }}</span></div>
      <div><span>Das: {{ empleado.das }}</span></div>
      <div><span>Ciudad: {{ empleado.ciudad }}</span></div>
      <div><span>Agrupaci√≥n: {{ empleado.agrupacion }}</span></div>
      <div><span>Line Manager: {{ empleado.lineManager }}</span></div>
      <div><span>Jornada: {{ empleado.jornada }}</span></div>
      <div><span>GCM: {{ empleado.gcm }}</span></div>
      <div><span>Categoria: {{ empleado.categoria }}</span></div>
      <div><span>Nivel GCM: {{ empleado.nivelgcm }}</span></div>
      <div><span>SCR: {{ empleado.scr }}</span></div>
      <div><span>Grupo: {{ empleado.grupo.grupos }}</span></div>
      <div><span>N4: {{ empleado.n4 }}</span></div>
      <div><span>Job Technology: {{ empleado.jobTechnology }}</span></div>
      <div><span>Skills: {{ empleado.skills }}</span></div>
      <div *ngIf="empleado.role.role != ''"><span>Role: {{ empleado.role.role }} - {{ empleado.role.nivel }}</span></div>
      <div><span>RLT: {{ empleado.rlt }}</span></div>
      <div>
        <span>Sk Languages:</span>
        <ul *ngFor="let skLenguages of empleado.skLenguages">
          <li *ngIf="skLenguages.sklenguage != ''">{{ skLenguages.sklenguage }} - {{ skLenguages.nivel }}</li>
        </ul>
      </div>
      <div>
        <span>Sk Methods:</span>
        <ul *ngFor="let skMethods of empleado.skMethods">
          <li *ngIf="skMethods.skmethod != ''">{{ skMethods.skmethod }} - {{ skMethods.nivel }}</li>
        </ul>
      </div>
      <div>
        <span>Sk Tech Skills:</span>
        <ul *ngFor="let skTechSkills of empleado.skTechSkills">
          <li *ngIf="skTechSkills.skTechSkill != ''">{{ skTechSkills.skTechSkill }} - {{ skTechSkills.nivel }}</li>
        </ul>
      </div>
      <div>
        <span>Sk Certifs:</span>
        <ul *ngFor="let skCertifs of empleado.skCertifs">
          <li *ngIf="skCertifs.skCertif != ''">{{ skCertifs.skCertif }} - {{ skCertifs.external }}</li>
        </ul>
      </div>
      <div>
        <span>Sk Technologies:</span>
        <ul *ngFor="let skTechnologies of empleado.skTechnologies">
          <li *ngIf="skTechnologies.sktechnology != ''">{{ skTechnologies.sktechnology }} - {{ skTechnologies.nivel }}</li>
        </ul>
      </div>
      <div>
        <span>Sk Bus Skills:</span>
        <ul *ngFor="let skBusSkills of empleado.skBusSkills">
          <li *ngIf="skBusSkills.skBusSkill != ''">{{ skBusSkills.skBusSkill }} - {{ skBusSkills.nivel }}</li>
        </ul>
      </div>
    </li>
  </ul>
</section>
<div *ngIf="empleados && empleados.length === 0" class="mt-4 ml-10 mr-10">
  No employees found.
</div>



